<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
</head>

<body>
	<script>
		//Задание 1. 
		//Написать функцию, которая принимает 2 строки и сравнивает их длину. Функция возвращает 1, если в первой
		//строке больше символов, чем во второй; -1 – если во второй больше символов, чем в первой; или 0 – если строки
		//одинаковой длины.

		function compare(a, b) {
			return (a.length > b.length ? 1 : a.length < b.length ? -1 : 0);
		}

		// variant 2
		function compare2(a, b) {
			let x = (a.length - b.length) / Math.abs(a.length - b.length)
			return (isNaN(x) ? 0 : x);
		}

		let wrd11 = prompt('Задание 1. \nНаписать функцию, которая принимает 2 строки и сравнивает их длину. ' +
			'Функция возвращает 1, если в первой строке больше символов, чем во второй; ' +
			'-1 – если во второй больше символов, чем в первой; или 0 – если строки ' +
			'одинаковой длины.\nВведите первое слово', 'aaa');
		let wrd12 = prompt('Задание 1. \nНаписать функцию, которая принимает 2 строки и сравнивает их длину. ' +
			'Функция возвращает 1, если в первой строке больше символов, чем во второй; ' +
			'-1 – если во второй больше символов, чем в первой; или 0 – если строки ' +
			'одинаковой длины.\nВведите второе слово', 'bbb');
		alert(compare2(wrd11, wrd12));


		//Задание 2.Написать функцию, которая переводит в верхний регистр
		//первый символ переданной строки.

		let firstLetter = (a) => a.slice(0, 1).toUpperCase() + a.slice(1);

		let wrd2 = prompt('Задание 2. \nНаписать функцию, которая переводит в верхний регистр ' +
			'первый символ переданной строки.', 'abc');
		alert(firstLetter(wrd2));

		//Задание 3.Написать функцию, которая считает количество гласных
		//букв в переданной строке. 

		function vowelCounter(a) {
			let counter = 0;
			let vowels = ['а', 'я', 'о', 'ё', 'у', 'ю', 'ы', 'и', 'э', 'е'];
			for (let simb of a) if (vowels.includes(simb.toLowerCase())) counter += 1;
			return counter;
		}
		let wrd3 = prompt('Задание 3.Написать функцию, которая считает количество гласных ' +
			'букв в переданной строке. ', 'АбраКАтабро');
		alert(vowelCounter(wrd3));

		//Задание 4.Написать функцию для проверки спама в переданной
		// строке. Функция возвращает true, если строка содержит
		// спам. Спамом считать следующие слова: 100% бесплатно,
		// увеличение продаж, только сегодня, не удаляйте, ххх.
		// Функция должна быть нечувствительна к регистру.

		function spamCatcher(a) {
			let spam = ['100% бесплатно', 'увеличение продаж', 'только сегодня', 'не удаляйте', 'ххх'];
			for (let ham of spam) if (a.toLowerCase().indexOf(ham) > 0) return true;
			return false;
		}
		let wrd4 = prompt('Задание 4.\n проверки спама', 'улучшит УВеЛиЧеНИЕ ПРОДАж');
		alert(spamCatcher(wrd4));


		// Задание 5.
		//Написать функцию сокращения строки. Функция принимает строку и ее максимальную длину. Если длина строки
		// больше, чем максимальная, то необходимо отбросить
		// лишние символы, добавив вместо них троеточие.
		// Например: truncate(“Hello, world!”, 8) должна вернуть
		// “Hello...”.


		function truncate(str, n) {
			return str.length > n ? str.slice(0, n - 3) + '...' : str;
		}
		alert('отбросить лишние символы, добавив вместо них троеточие.\n' + truncate('abcdefgh', 7));

		// Задание 6.
		//Написать функцию, которая проверяет, является ли переданная строка палиндромом.

		function palindromCheck(wrd) {
			let newwrd = wrd.replaceAll(' ', '').toLowerCase();
			let j = newwrd.length;
			for (let i = 0; i < Math.floor(j / 2); i++) {
				if (newwrd[i] != newwrd[j - i - 1]) return false;
			}
			return true
		}

		let wrd6 = prompt('Задание 6.\nроверяет, является ли переданная строка палиндромом', 'А роза упала на лапу Азора');
		alert(palindromCheck(wrd6));

		// Задание 7.
		//Написать функцию, которая считает количество слов в предложении.
		let wordCounter = (wrd) => wrd.replaceAll(',', ' ').split(' ').length;

		let wrd7 = prompt('Задание 7\nПосчитать слова', 'А роза упала на лапу Азора');
		alert(wordCounter(wrd7));

		// Задание 8.
		//Написать функцию, которая возвращает самое длинное слово из предложения.
		let longestWord = (wrd) => wrd.replaceAll(',', ' ').split(' ').sort((a, b) => b.length - a.length)[0];

		let wrd8 = prompt('Задание 8\nСамое длинное слово', 'А розааааааааа упалло на лапу Азора');
		alert(longestWord(wrd8));

		// Задание 9.
		//Написать функцию, которая считает среднюю длину слова в предложении.

		function avwordlength(wrd) {
			let arr = wrd9.replaceAll(',', ' ').split(' ');
			return Math.round(arr.reduce(function (tot, current) { return (tot + current.length); }, 0) / arr.length);
		}
		let wrd9 = prompt('Задание 9\nСредняя длина слова', 'А роза упала на лапу Азора');
		alert(avwordlength(wrd9));

		// Задание 10.
		//Написать функцию, которая принимает строку и символ
		// и выводит индексы, по которым находится этот символ в
		// строке. Также вывести, сколько всего раз встречается этот
		// символ в строке

		let wrd10a = prompt('Задание 10\nвывести индексы и количество повторений символа в строке\nВведите строку', 'Düşmən qaşıqdan düşbaərə kimi düşsün');
		let wrd10b = prompt('Задание 10\nвывести индексы и количество повторений символа в строке\nВведите символ', 'ü');

		function simbandIndex(wrd, smb) {
			let arr1 = wrd.split('');
			let arr2 = arr1.map((item, index) => { if (item == smb) return index; })
			let arr3 = arr2.filter(element => element != null);
			return 'array indices  :' + arr3 + '\nmeet in string   ' + arr3.length + ' times';
		}

		alert(simbandIndex(wrd10a, wrd10b));
	</script>
</body>

</html>